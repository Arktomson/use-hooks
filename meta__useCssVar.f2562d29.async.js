(self.webpackChunkuse_hooks=self.webpackChunkuse_hooks||[]).push([[224],{56412:function(o,f,t){"use strict";var m;t.r(f),t.d(f,{demos:function(){return g}});var v=t(17061),n=t.n(v),I=t(17156),i=t.n(I),d=t(67294),E=t(7073),R=t(23067),M=t(5947),g={"src-use-css-var-demo-example":{component:d.memo(d.lazy(function(){return Promise.all([t.e(107),t.e(764),t.e(683),t.e(433)]).then(t.bind(t,89286))})),asset:{type:"BLOCK",id:"src-use-css-var-demo-example",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:t(78750).Z},react:{type:"NPM",value:"18.3.1"},"use-hooks":{type:"NPM",value:"0.0.1"},"./example.css":{type:"FILE",value:t(90629).Z}},entry:"index.tsx",description:"\u5207\u6362\u989C\u8272\u503C",title:"\u57FA\u7840\u7528\u6CD5"},context:{react:m||(m=t.t(d,2)),"use-hooks":R,"/home/runner/work/use-hooks/use-hooks/src/useCssVar/example.css":M},renderOpts:{compile:function(){var h=i()(n()().mark(function S(){var x,b=arguments;return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Promise.all([t.e(764),t.e(335)]).then(t.bind(t,37335));case 2:return y.abrupt("return",(x=y.sent).default.apply(x,b));case 3:case"end":return y.stop()}},S)}));function p(){return h.apply(this,arguments)}return p}()}}}},23067:function(o,f,t){"use strict";t.r(f),t.d(f,{useBoolean:function(){return I},useClickOutside:function(){return i},useCreation:function(){return E},useCssVar:function(){return R},useIntersection:function(){return S},useLatest:function(){return x},useLockFn:function(){return W},useMap:function(){return K},useMount:function(){return j},useReactive:function(){return $},useResize:function(){return H},useSafeState:function(){return G},useThrottle:function(){return Z},useUnMountedRef:function(){return _},useUnmount:function(){return N},useUpdate:function(){return D}});var m=t(27424),v=t.n(m),n=t(67294),I=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=(0,n.useState)(!!e),u=v()(r,2),a=u[0],c=u[1],s=(0,n.useCallback)(function(){return c(function(P){return!P})},[]),T=[{value:a,toggle:s},c];return T},i=function(e,r){(0,n.useEffect)(function(){console.log("\u66F4\u65B0");var u=function(c){var s;e!=null&&e.current&&!(e!=null&&(s=e.current)!==null&&s!==void 0&&s.contains(c.target))&&(r==null||r())};return document.addEventListener("click",u),function(){document.removeEventListener("click",u)}},[e,r])};function d(l,e){if(l===e)return!0;if(l.length!==e.length)return!1;for(var r=0;r<l.length;r++)if(!Object.is(l[r],e[r]))return!1;return!0}var E=function(e,r){var u=(0,n.useRef)({deps:r,val:void 0,initialized:!1}),a=u.current;return(!a.initialized||!d(a.deps,r))&&(a.initialized=!0,a.val=e(),a.deps=r),a.val},R=function(e){var r=function(c,s){e.current&&e.current.style.setProperty(c,s)},u=function(c){if(e.current)return getComputedStyle(e.current).getPropertyValue(c).trim()};return[u,r]},M=t(74704),g=t.n(M),h=new WeakMap,p=new IntersectionObserver(function(l){var e=g()(l),r;try{for(e.s();!(r=e.n()).done;){var u=r.value,a=h.get(u.target);a==null||a(u,p)}}catch(c){e.e(c)}finally{e.f()}}),S=function(e){if(typeof e!="function")throw new TypeError("The parameter should be a callback function");var r=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(!r.current)throw new TypeError('"The parameter 1 should be of type Element');return p.observe(r.current),function(){p.unobserve(r.current)}},[]),(0,n.useEffect)(function(){h.set(r.current,e)},[e]),r},x=function(e){var r=(0,n.useRef)(e);return r.current=e,r},b=t(17061),A=t.n(b),y=t(17156),B=t.n(y),W=function(e){var r=(0,n.useRef)(!1);return(0,n.useCallback)(B()(A()().mark(function u(){var a=arguments;return A()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!r.current){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,r.current=!0,s.next=6,e.apply(void 0,a);case 6:return s.abrupt("return",s.sent);case 7:return s.prev=7,r.current=!1,s.finish(7);case 10:case"end":return s.stop()}},u,null,[[2,,7,10]])})),[e])},F=t(861),V=t.n(F),K=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=(0,n.useState)(new Map(e)),u=v()(r,2),a=u[0],c=u[1],s=(0,n.useRef)(e),T=(0,n.useCallback)(function(C,O){c(function(q){return new Map([].concat(V()(q),[[C,O]]))})},[]),P=(0,n.useCallback)(function(C){c(function(O){return O.delete(C),new Map(O)})},[]),J=(0,n.useCallback)(function(){c(new Map(s.current))},[]),Q=(0,n.useCallback)(function(C){return a.get(C)},[a]),X=(0,n.useCallback)(function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c(new Map(C))},[]),Y=(0,n.useCallback)(function(){c(new Map)},[]);return(0,n.useMemo)(function(){return{value:a,set:T,remove:P,reset:J,get:Q,clear:Y,setAll:X}},[a])},j=function(e){(0,n.useEffect)(function(){e==null||e()},[])},w=t(18698),z=t.n(w);function k(l,e){return new Proxy(l,{get:function(u,a,c){var s=Reflect.get(u,a,c);return z()(s)==="object"?k(s,e):Reflect.get(u,a)},set:function(u,a,c){var s=Reflect.set(u,a,c);return e(),s},deleteProperty:function(u,a){var c=Reflect.deleteProperty(u,a);return e(),c}})}var $=function(e){var r=D(),u=E(function(){return k(e,r)},[]);return u},L=new WeakMap,U=new ResizeObserver(function(l){var e=g()(l),r;try{for(e.s();!(r=e.n()).done;){var u=r.value,a=L.get(u.target);a==null||a(u)}}catch(c){e.e(c)}finally{e.f()}}),H=function(e){if(typeof e!="function")throw new TypeError("The parameter should be a callback function");var r=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(!r.current)throw new TypeError('"The parameter 1 should be of type Element');return U.observe(r.current),function(){U.unobserve(r.current)}},[]),(0,n.useEffect)(function(){L.set(r.current,e)},[e]),r};function G(l){var e=_(),r=(0,n.useState)(l),u=v()(r,2),a=u[0],c=u[1],s=(0,n.useCallback)(function(T){e.current||c(T)},[]);return[a,s]}var Z=function(e){function r(){}return{}},N=function(e){var r=x(e);(0,n.useEffect)(function(){return function(){var u;(u=r.current)===null||u===void 0||u.call(r)}},[])},_=function(){var e=(0,n.useRef)(!1);return(0,n.useEffect)(function(){return e.current=!1,function(){e.current=!0}},[]),e},D=function(){var e=(0,n.useState)({}),r=v()(e,2),u=r[1];return(0,n.useCallback)(function(){return u({})},[])}},5947:function(o,f,t){"use strict";t.r(f)},2193:function(o,f,t){"use strict";t.r(f),t.d(f,{texts:function(){return v}});var m=t(7073);const v=[{value:"\u4F18\u96C5\u7684\u64CD\u4F5C css \u53D8\u91CF",paraId:0,tocIndex:0},{value:`const [get, set] = useCssVar(domRef: React.RefObject<HTMLElement>);
`,paraId:1,tocIndex:4},{value:"\u53C2\u6570",paraId:2,tocIndex:5},{value:"\u8BF4\u660E",paraId:2,tocIndex:5},{value:"\u7C7B\u578B",paraId:2,tocIndex:5},{value:"\u9ED8\u8BA4\u503C",paraId:2,tocIndex:5},{value:"domRef",paraId:2,tocIndex:5},{value:"\u64CD\u4F5C CSS \u53D8\u91CF\u7684\u5143\u7D20",paraId:2,tocIndex:5},{value:"React.RefObject<HTMLElement>",paraId:2,tocIndex:5},{value:"-",paraId:2,tocIndex:5},{value:"\u53C2\u6570",paraId:3,tocIndex:6},{value:"\u8BF4\u660E",paraId:3,tocIndex:6},{value:"\u7C7B\u578B",paraId:3,tocIndex:6},{value:"get",paraId:3,tocIndex:6},{value:"\u83B7\u53D6\u53D8\u91CF\u503C",paraId:3,tocIndex:6},{value:"(key: string) => string | undefined ",paraId:3,tocIndex:6},{value:"set",paraId:3,tocIndex:6},{value:"\u8BBE\u7F6E\u53D8\u91CF\u503C",paraId:3,tocIndex:6},{value:"(key: string, val: string) => void",paraId:3,tocIndex:6}]},90629:function(o,f){"use strict";f.Z=`.main {
  --color: red;

  width: 100px;
  height: 100px;
  background-color: var(--color);
}
`},78750:function(o,f){"use strict";f.Z=`import React, { useEffect, useRef, useState } from 'react';
import { useCssVar } from 'use-hooks';
import './example.css';
export default () => {
  const domRef = useRef(null!);

  const [get, set] = useCssVar(domRef);
  const [curColor, setCurColor] = useState<string | null>(null);

  useEffect(() => {
    const curColor = get('--color');
    if (curColor) setCurColor(curColor);
  }, []);
  return (
    <>
      <div className="main" ref={domRef}></div>
      <div>get: {curColor} </div>
      <div
        onClick={() => {
          set(
            '--color',
            \`rgb(\${Math.random() * 255},\${Math.random() * 255},\${
              Math.random() * 255
            })\`,
          );
          const curColor = get('--color');
          if (curColor) setCurColor(curColor);
        }}
      >
        \u70B9\u51FB
      </div>
    </>
  );
};
`},63405:function(o,f,t){var m=t(73897);function v(n){if(Array.isArray(n))return m(n)}o.exports=v,o.exports.__esModule=!0,o.exports.default=o.exports},74704:function(o,f,t){var m=t(86116);function v(n,I){var i=typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(!i){if(Array.isArray(n)||(i=m(n))||I&&n&&typeof n.length=="number"){i&&(n=i);var d=0,E=function(){};return{s:E,n:function(){return d>=n.length?{done:!0}:{done:!1,value:n[d++]}},e:function(p){throw p},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=!0,M=!1,g;return{s:function(){i=i.call(n)},n:function(){var p=i.next();return R=p.done,p},e:function(p){M=!0,g=p},f:function(){try{!R&&i.return!=null&&i.return()}finally{if(M)throw g}}}}o.exports=v,o.exports.__esModule=!0,o.exports.default=o.exports},79498:function(o){function f(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}o.exports=f,o.exports.__esModule=!0,o.exports.default=o.exports},42281:function(o){function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o.exports=f,o.exports.__esModule=!0,o.exports.default=o.exports},861:function(o,f,t){var m=t(63405),v=t(79498),n=t(86116),I=t(42281);function i(d){return m(d)||v(d)||n(d)||I()}o.exports=i,o.exports.__esModule=!0,o.exports.default=o.exports}}]);
